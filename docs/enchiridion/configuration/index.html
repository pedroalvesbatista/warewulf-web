<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Warewulf Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="Warewulf Blog Atom Feed"><title data-react-helmet="true">Warewulf Configuration | Warewulf</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://warewulf.hpcng.org/docs/enchiridion/configuration"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Warewulf Configuration | Warewulf"><meta data-react-helmet="true" name="description" content="The default installation of Warewulf will put all of the configuration files into /etc/warewulf/. In that directory, you will find the primary configuration files needed by Warewulf."><meta data-react-helmet="true" property="og:description" content="The default installation of Warewulf will put all of the configuration files into /etc/warewulf/. In that directory, you will find the primary configuration files needed by Warewulf."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://warewulf.hpcng.org/docs/enchiridion/configuration"><link data-react-helmet="true" rel="alternate" href="https://warewulf.hpcng.org/docs/enchiridion/configuration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://warewulf.hpcng.org/docs/enchiridion/configuration" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.83781550.css">
<link rel="preload" href="/assets/js/runtime~main.77480c58.js" as="script">
<link rel="preload" href="/assets/js/main.520403a3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Warewulf Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Warewulf Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Warewulf</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/news">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hpcng/warewulf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Enchiridion</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/background">Background</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/stateless">Stateless Provisioning</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/setup">Control Server Setup</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/installation">Warewulf Installation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/enchiridion/configuration">Warewulf Configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/initialization">Warewulf Initialization</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/containers">Container Management</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/kernel">Kernel Management</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/nodeconfig">Node Configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/profiles">Node Profiles</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/overlays">Warewulf Overlays</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/provisioning">Stateless Provisioning</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/ipmi">IPMI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/security">Security</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/enchiridion/templating">Templating</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quickstarts</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Contributing</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Appendix</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Warewulf Configuration</h1></header><p>The default installation of Warewulf will put all of the configuration files into <code>/etc/warewulf/</code>. In that directory, you will find the primary configuration files needed by Warewulf.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="warewulfconf"></a>warewulf.conf<a class="hash-link" href="#warewulfconf" title="Direct link to heading">#</a></h2><p>The Warewulf configuration exists as follows in the current version of Warewulf (4.2.0):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ipaddr: 10.0.0.1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">netmask: 255.255.252.0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">warewulf:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  port: 9873</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  secure: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  update interval: 60</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dhcp:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  enabled: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  range start: 10.0.1.1</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  range end: 10.0.1.255</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  template: default</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  systemd name: dhcpd</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tftp:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  enabled: true</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tftproot: /var/lib/tftpboot</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  systemd name: tftp</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">nfs:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  systemd name: nfs-server</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  exports:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - /home</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - /var/warewulf</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Generally you can leave this file as is, as long as you set the appropriate networking information. Specifically the following configurations:</p><ul><li><code>ipaddr</code>: This is the control node&#x27;s networking interface connecting to the cluster&#x27;s <strong>PRIVATE</strong> network. This configuration must match the host&#x27;s network IP address for the cluster&#x27;s private interface.</li><li><code>netmask</code>: Similar to the <code>ipaddr</code>, this is the subnet mask for the cluster&#x27;s <strong>PRIVATE</strong> network and it must also match the host&#x27;s subnet mask for the cluster&#x27;s private interface.</li><li><code>dhcp:range start</code>: This address must exist on the network defined above. If it is outside of this scope, failures will occur. This is where you want the DHCP range IP addressing to begin.</li><li><code>dhcp:range end</code>: Same as the above, but this is where the DHCP range will end.</li></ul><blockquote><p>note: The network configuration listed above assumes the network layout in the <a href="/docs/enchiridion/background">Background</a> portion of the documentation.</p></blockquote><p>The other configuration options are usually not touched, but they are explained as follows:</p><ul><li><code>enabled</code>: This disables Warewulf&#x27;s control of an external service. This is useful if you want to mange that service directly.</li><li><code>systemd name</code>: This is so Warewulf can control some of the host&#x27;s services. For the distributions that we&#x27;ve built and tested this on, these will require no changes.</li><li><code>warewulf:port</code>: This is the port that the Warewulf web server will be listening on. It is recommended not to change this so there is no misalignment with node&#x27;s expectations of how to contact the Warewulf service.</li><li><code>warewulf:secure</code>: When <code>true</code>, this limits the Warewulf server to only respond to runtime overlay requests originating from a privileged report port. This makes it so that only the <code>root</code> user on a compute node can request the runtime overlay. While generally there is nothing super &quot;secure&quot; in these overlays, this adds the necessary protection that the user&#x27;s can not obtain this information.</li><li><code>nfs:exports</code>: Warewulf will automatically set up the NFS exports if you wish for it to do this. </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="nodesconf"></a>nodes.conf<a class="hash-link" href="#nodesconf" title="Direct link to heading">#</a></h2><p>The <code>nodes.conf</code> is the primary database file for all compute nodes. It is a flat text YAML configuration file that is managed by the <code>wwctl</code> command but some sites manage the compute nodes and infrastructure via configuration management. This file being flat text and very light weight makes management of the node configurations very easy no matter what your configuration paradigm is.</p><p>For the purpose of this document, we will not go into the detailed format of this file as it is recommended to edit with the <code>wwctl</code> command.</p><blockquote><p>note: This configuration is not written at install time, but the first time you attempt to run <code>wwctl</code>, this file will be generated if it does not exist already.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="hoststmpl"></a>hosts.tmpl<a class="hash-link" href="#hoststmpl" title="Direct link to heading">#</a></h2><p>The <code>hosts.tmpl</code> is a <em>text/template</em> file that can be used to rewrite the control node&#x27;s <code>/etc/hosts</code> file with the command <code>wwctl configure hosts</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="directories"></a>Directories<a class="hash-link" href="#directories" title="Direct link to heading">#</a></h2><p>There are two directories in the <code>/etc/warewulf/</code> directory, these are <code>ipxe</code> and <code>dhcp</code>. Both of these directories contain <em>text/templates</em> that are used by the Warewulf configuration process.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hpcng/warewulf-web/edit/main/docs/enchiridion/configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/enchiridion/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Warewulf Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/enchiridion/initialization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Warewulf Initialization Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#warewulfconf" class="table-of-contents__link">warewulf.conf</a></li><li><a href="#nodesconf" class="table-of-contents__link">nodes.conf</a></li><li><a href="#hoststmpl" class="table-of-contents__link">hosts.tmpl</a></li><li><a href="#directories" class="table-of-contents__link">Directories</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://join.slack.com/t/hpcng/shared_invite/zt-ll5c3ofb-XhvMPbXUhTVrHlutQz2jbA" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCQbKq1vIffqRAMUDPfHcU0w" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/news">News</a></li><li class="footer__item"><a href="https://github.com/hpcng/warewulf" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 HPCng. - All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.77480c58.js"></script>
<script src="/assets/js/main.520403a3.js"></script>
</body>
</html>